{% extends "instructor_base.html" %}

{% block content %}
<div id="content-main">
    <!-- Welcome message for instructors -->
    {% if user.email and '@instructor.com' in user.email and not user.is_superuser %}
    <div class="module" style="background: white; border-radius: 10px; padding: 25px; margin-bottom: 25px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); border-left: 5px solid #dc0032;">
        <div style="display: flex; align-items: center; margin-bottom: 15px;">
            <div style="background: linear-gradient(45deg, #dc0032, #b30028); color: white; padding: 12px 20px; border-radius: 8px; margin-right: 20px; min-width: 60px; text-align: center;">
                <div style="font-size: 2rem;">ğŸ‘¨â€ğŸ«</div>
            </div>
            <div style="flex: 1;">
                <h2 style="color: #dc0032; margin: 0 0 5px 0;">
                    Bun venit, {{ user.first_name|default:user.username }}!
                </h2>
                <p style="color: #666; margin: 0; font-size: 1.1rem;">
                    Acesta este panoul tÄƒu de instructor pentru <strong>Porsche School</strong>
                </p>
            </div>
        </div>

        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 20px;">
            <!-- Access Card -->
            <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; border-left: 4px solid #28a745;">
                <h4 style="color: #28a745; margin-bottom: 15px;">
                    <i class="fas fa-check-circle"></i> Acces permis
                </h4>
                <ul style="margin: 0; padding-left: 20px;">
                    <li><strong>Cursuri</strong> - AdaugÄƒ, editeazÄƒ, È™terge</li>
                    <li><strong>ÃntrebÄƒri teoretice</strong> - GestioneazÄƒ Ã®ntrebÄƒrile pentru teste</li>
                    <li><strong>RÄƒspunsuri</strong> - SeteazÄƒ rÄƒspunsuri corecte/greÈ™ite</li>
                </ul>
            </div>

            <!-- Restrictions Card -->
            <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; border-left: 4px solid #dc3545;">
                <h4 style="color: #dc3545; margin-bottom: 15px;">
                    <i class="fas fa-times-circle"></i> Acces restricÈ›ionat
                </h4>
                <ul style="margin: 0; padding-left: 20px;">
                    <li><strong>Utilizatori</strong> - Nu puteÈ›i gestiona conturi</li>
                    <li><strong>Memes</strong> - Nu puteÈ›i modifica conÈ›inutul distractiv</li>
                    <li><strong>Rezultate teste</strong> - Doar vizualizare statistici</li>
                </ul>
            </div>
        </div>

        <!-- Quick Actions -->
        <div style="margin-top: 25px; padding-top: 20px; border-top: 1px solid #eee;">
            <h4 style="color: #333; margin-bottom: 15px;">
                <i class="fas fa-bolt"></i> AcÈ›iuni rapide
            </h4>
            <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                <a href="/admin/porsche_app/course/" class="button" style="background: #28a745 !important; display: inline-block; padding: 10px 20px; text-decoration: none;">
                    <i class="fas fa-book"></i> GestioneazÄƒ Cursuri
                </a>
                <a href="/admin/porsche_app/question/" class="button" style="background: #17a2b8 !important; display: inline-block; padding: 10px 20px; text-decoration: none;">
                    <i class="fas fa-question-circle"></i> GestioneazÄƒ ÃntrebÄƒri
                </a>
                <a href="{% url 'home' %}" style="background: #6c757d; color: white; display: inline-block; padding: 10px 20px; border-radius: 4px; text-decoration: none;">
                    <i class="fas fa-arrow-left"></i> Ãnapoi la PlatformÄƒ
                </a>
            </div>
        </div>
    </div>
    {% endif %}

    <!-- Django's original app list -->
    {% if app_list %}
        {% for app in app_list %}
            <div class="app-{{ app.app_label }} module">
                <table>
                    <caption>
                        <a href="{{ app.app_url }}" class="section" title="{% blocktrans with name=app.name %}Models in the {{ name }} application{% endblocktrans %}">
                            {{ app.name }}
                        </a>
                    </caption>
                    {% for model in app.models %}
                        <tr class="model-{{ model.object_name|lower }}">
                            {% if model.admin_url %}
                                <th scope="row"><a href="{{ model.admin_url }}">{{ model.name }}</a></th>
                            {% else %}
                                <th scope="row">{{ model.name }}</th>
                            {% endif %}

                            {% if model.add_url %}
                                <td><a href="{{ model.add_url }}" class="addlink">{% trans 'Add' %}</a></td>
                            {% else %}
                                <td></td>
                            {% endif %}

                            {% if model.admin_url %}
                                {% if model.view_only %}
                                    <td><a href="{{ model.admin_url }}" class="viewlink">{% trans 'View' %}</a></td>
                                {% else %}
                                    <td><a href="{{ model.admin_url }}" class="changelink">{% trans 'Change' %}</a></td>
                                {% endif %}
                            {% else %}
                                <td></td>
                            {% endif %}
                        </tr>
                    {% endfor %}
                </table>
            </div>
        {% endfor %}
    {% else %}
        <p>{% trans "You don't have permission to view or edit anything." %}</p>
    {% endif %}

    <!-- Additional information for instructors -->
    {% if user.email and '@instructor.com' in user.email and not user.is_superuser %}
    <div class="module" style="background: #fff3cd; border: 1px solid #ffeaa7; border-radius: 8px; padding: 20px; margin-top: 25px;">
        <h3 style="color: #856404; margin-bottom: 15px;">
            <i class="fas fa-info-circle"></i> InformaÈ›ii importante pentru instructori
        </h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
            <div style="background: white; padding: 15px; border-radius: 5px;">
                <h5 style="color: #dc0032; margin-bottom: 10px;">ğŸ“ Cum sÄƒ creezi cursuri eficiente:</h5>
                <ul style="margin: 0; padding-left: 20px; font-size: 0.9rem;">
                    <li>FoloseÈ™te titluri descriptive</li>
                    <li>StructureazÄƒ conÈ›inutul clar</li>
                    <li>ÃncarcÄƒ PDF-uri pentru studenÈ›i</li>
                    <li>SetazÄƒ dificultatea corectÄƒ</li>
                </ul>
            </div>

            <div style="background: white; padding: 15px; border-radius: 5px;">
                <h5 style="color: #28a745; margin-bottom: 10px;">â“ Cum sÄƒ creezi Ã®ntrebÄƒri bune:</h5>
                <ul style="margin: 0; padding-left: 20px; font-size: 0.9rem;">
                    <li>FormuleazÄƒ clar Ã®ntrebÄƒrile</li>
                    <li>AdaugÄƒ 4 rÄƒspunsuri variate</li>
                    <li>MarcaÈ›i doar un rÄƒspuns corect</li>
                    <li>FoloseÈ™te categorii relevante</li>
                </ul>
            </div>

            <div style="background: white; padding: 15px; border-radius: 5px;">
                <h5 style="color: #17a2b8; margin-bottom: 10px;">ğŸ“Š Statistici disponibile:</h5>
                <ul style="margin: 0; padding-left: 20px; font-size: 0.9rem;">
                    <li>Vezi cÃ¢te cursuri ai creat</li>
                    <li>MonitorizeazÄƒ Ã®ntrebÄƒrile adÄƒugate</li>
                    <li>VizualizeazÄƒ statistici generale</li>
                </ul>
            </div>
        </div>

        <div style="margin-top: 20px; text-align: center;">
            <p style="font-size: 0.9rem; color: #666;">
                <i class="fas fa-phone-alt"></i> Pentru asistenÈ›Äƒ tehnicÄƒ sau Ã®ntrebÄƒri, contactaÈ›i administratorul.
            </p>
        </div>
    </div>
    {% endif %}
</div>

<style>
/* Additional styles for instructor index */
.app-porsche_app .module {
    border: 2px solid #e9ecef !important;
    border-radius: 8px !important;
    overflow: hidden !important;
    margin-bottom: 20px !important;
}

.app-porsche_app .module caption {
    background: linear-gradient(45deg, #000000, #2d2d2d) !important;
    padding: 15px !important;
    font-size: 1.1rem !important;
}

.model-course th a,
.model-question th a {
    color: #dc0032 !important;
    font-weight: 600 !important;
}

.model-course th a:hover,
.model-question th a:hover {
    color: #b30028 !important;
    text-decoration: underline !important;
}

/* Highlight allowed models for instructors */
{% if user.email and '@instructor.com' in user.email and not user.is_superuser %}
.model-course,
.model-question {
    background-color: rgba(220, 0, 50, 0.05) !important;
}

.model-course:hover,
.model-question:hover {
    background-color: rgba(220, 0, 50, 0.1) !important;
}
{% endif %}

/* Hide models that instructors shouldn't see */
{% if user.email and '@instructor.com' in user.email and not user.is_superuser %}
.model-meme,
.model-quizattempt,
.model-user,
.model-group {
    display: none !important;
}
{% endif %}
</style>
{% endblock %}