{% extends 'base.html' %}

{% block content %}
<!-- Hero Section - Full Width -->
<div class="hero-section text-center mb-5">
    <div class="container-fluid px-5 py-5">
        <h1 class="display-4 fw-bold">Porsche School</h1>
        <p class="lead fs-4">Excellence in driving. Performance in education.</p>
        <p class="fs-5">The first driving school that combines tradition with Porsche technology</p>
    </div>
</div>

<div class="container-fluid px-4">
    {% if user.is_authenticated %}
    <!-- User Statistics - Full Width -->
    <div class="row mb-4 g-3">
        <div class="col-md-4">
            <div class="card text-center h-100">
                <div class="card-body">
                    <h3>üéØ</h3>
                    <h4 class="text-primary">{{ total_quizzes }}</h4>
                    <p class="text-muted mb-0">Quizzes completed</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card text-center h-100">
                <div class="card-body">
                    <h3>‚≠ê</h3>
                    <h4 class="text-success">{% if best_score %}{{ best_score.score }}/{{ best_score.total_questions }}{% else %}0/0{% endif %}</h4>
                    <p class="text-muted mb-0">Best score</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card text-center h-100">
                <div class="card-body">
                    <h3>üöÄ</h3>
                    <h4 class="text-warning">{{ courses.count }}</h4>
                    <p class="text-muted mb-0">Available courses</p>
                </div>
            </div>
        </div>
    </div>
    {% endif %}

    <!-- Main Content - Full Width -->
    <div class="row g-4">
        <!-- Courses -->
        <div class="col-lg-8">
            <div class="card h-100">
                <div class="card-header bg-dark text-white">
                    <h3 class="mb-0">üìö Premium Porsche Courses</h3>
                </div>
                <div class="card-body">
                    {% if courses %}
                    <div class="row g-3">
                        {% for course in courses %}
                        <div class="col-md-6">
                            <div class="card course-card difficulty-{{ course.difficulty }} h-100">
                                <div class="card-body">
                                    <div class="d-flex justify-content-between align-items-start mb-2">
                                        <h5 class="card-title">{{ course.title }}</h5>
                                        <span class="badge bg-{% if course.difficulty == 'beginner' %}success{% elif course.difficulty == 'intermediate' %}warning{% else %}danger{% endif %}">
                                            {{ course.get_difficulty_display }}
                                        </span>
                                    </div>
                                    <p class="card-text text-muted">{{ course.content|truncatewords:20 }}</p>
                                    <a href="{% url 'course_detail' course.id %}" class="btn btn-porsche btn-sm">Access course</a>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                    {% else %}
                    <div class="text-center py-4">
                        <p class="text-muted">No courses available at the moment.</p>
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Sidebar -->
        <div class="col-lg-4">
            <!-- Quizzes -->
            <div class="card mb-4">
                <div class="card-header bg-success text-white">
                    <h4 class="mb-0">üìù Driving Quiz</h4>
                </div>
                <div class="card-body text-center">
                    <p class="fs-6">Test your knowledge with a complete 24-question quiz!</p>
                    <p class="text-muted small">Questions are randomly selected from all categories.</p>
                    
                    <div class="d-grid gap-2">
                        <a href="{% url 'quiz' %}" class="btn btn-success btn-lg">üèÅ Start Quiz</a>
                        <a href="{% url 'quiz_history' %}" class="btn btn-outline-secondary">üìä View History</a>
                    </div>
                    
                    <div class="mt-3">
                        <small class="text-muted">
                            ‚è±Ô∏è Estimated duration: 30 minutes<br>
                            üìö All categories: Traffic, Signs, Safety, Porsche
                        </small>
                    </div>
                </div>
            </div>

            <!-- Memes -->
            <div class="card">
                <div class="card-header bg-warning text-dark">
                    <h4 class="mb-0">üòÑ Porsche Memes</h4>
                </div>
                <div class="card-body text-center">
                    <p class="fs-6">Have fun with the funniest car memes!</p>
                    <div class="d-grid">
                        <a href="{% url 'memes' %}" class="btn btn-warning btn-lg">üé≠ View all Memes</a>
                    </div>
                    <div class="mt-3">
                        <small class="text-muted">
                            üì∏ Collection of funny memes about cars and driving
                        </small>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
/* Stiluri pentru layout complet */
.hero-section {
    background: 
        linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)),
        url('https://images.unsplash.com/photo-1503376780353-7e6692767b70?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    color: white; 
    margin: 0;
    position: relative;
    overflow: hidden;
    min-height: 400px;
    display: flex;
    align-items: center;
}

.hero-section::before {
    content: 'üèéÔ∏è';
    font-size: 8rem;
    position: absolute;
    right: 50px;
    bottom: 20px;
    opacity: 0.3;
}

/* Carduri fƒÉrƒÉ marginii exterioare */
.card {
    border: none;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    border-radius: 10px;
}

.course-card {
    transition: transform 0.3s ease;
}

.course-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 5px 20px rgba(0,0,0,0.15);
}

/* DificultƒÉ»õi cursuri */
.difficulty-beginner { border-left: 4px solid #28a745; }
.difficulty-intermediate { border-left: 4px solid #ffc107; }
.difficulty-advanced { border-left: 4px solid #dc3545; }

/* Container fluid adjustments */
.container-fluid {
    max-width: 100%;
}
</style>
{% endblock %}